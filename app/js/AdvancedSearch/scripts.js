NHS.Scripts.AdvancedSearch=function(){};NHS.Scripts.AdvancedSearch.prototype={initialize:function(){var a=this;$jq("#rblHomeAll").attr("checked",true);$jq("#rblOfferAll").attr("checked",true);SetTextBoxesDescriptions();$jq("#SearchText").blur(function(){a.EntryValidator.call(a,$jq("#SearchText").attr("id"))});$jq("#btnSearchHomes").click(function(){var b=a.ValidateAdvForm("2");b&&$jq("#frmValidate").submit()})},ResetForm:function(){$jq("select").removeAttr("selected").find("option:first").attr("selected","selected");$jq("input[type='radio'], input[type='checkbox']").removeAttr("checked");$jq("#rblHomeAll, #rblOfferAll, #rblPromoAny").attr("checked",true)},ShowValidatorMessage:function(b){var a=$jq("#locationErrorMessage");if(b)a[0].style.display="block";else a[0].style.display="none"},ValidateAdvForm:function(f){var g=this,i=$jq("#SearchText"),a=i.val().trim(),b=true,c=$jq("#divMessage"),d="<p class='field-validation-error'>Please enter a City, ST or Zip.</p>";c.html("");if(a==""||a.indexOf(",")!=-1&&a.split(",")[1]==""){c.html(d);b=false}else if(!g.isZip(a)&&a.indexOf(",")==-1){c.html(d);b=false}else if(!g.isZip(a)){var e=a.indexOf(","),h=a.substring(0,e),j=a.substring(e+1);if(h==""||j==""){c.html(d);b=false}}if(b)if(f=="1")$jq("#CommSearch").val(true);else f=="2"&&$jq("#CommSearch").val(false);return b},isZip:function(b){var a=new RegExp(/(^\d{5}$)|(^\d{5}-\d{4}$)/);if(!a.test(b))return false;return true},EntryValidator:function(b){var a=this;setTimeout(function(){a.ValidateLocation.call(a,b)},150)},ValidateLocation:function(g){var e=this,c=$jq("#"+g);if(c==null)return;if(c.val()=="")return;var d=$jq(".ui-autocomplete");if(d==null||d[0].childNodes.length==0)return;var a=d[0];if(a==null)return;for(i=0;i<a.childNodes.length;i++)if(a.childNodes[i].nodeName=="LI"){var b=a.childNodes[i].innerHTML;b=a.childNodes[i].innerText;if(b==undefined)b=a.childNodes[i].textContent;var f=c.val().toUpperCase();if(b.toUpperCase()==f){e.ShowValidatorMessage.call(e,false);return}}ShowValidatorMessage(true)}}