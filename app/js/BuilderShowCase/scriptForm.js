(function(a){a.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:false,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return J()}};a.fn.cleditor=function(c){var b=a([]);this.each(function(f,e){if(e.tagName=="TEXTAREA"){var d=a.data(e,M);if(!d)d=new cleditor(e,c);b=b.add(d)}});return b};var v="backgroundColor",t="button",m="buttonName",u="change",M="cleditor",g="click",d="disabled",c="<div>",eb="transparent",x="unselectable",W="cleditorMain",R="cleditorToolbar",G="cleditorGroup",D="cleditorButton",B="cleditorDisabled",Q="cleditorDivider",V="cleditorPopup",K="cleditorList",U="cleditorColor",o="cleditorPrompt",Y="cleditorMsg",b=a.browser.msie,db=/msie\s6/i.test(navigator.userAgent),z=/iphone|ipad|ipod/i.test(navigator.userAgent),f={},A,k=a.cleditor.buttons;a.each(k.init.split("|"),function(d,c){var a=c.split(","),b=a[0];k[b]={stripIndex:d,name:b,title:a[1]===""?b.charAt(0).toUpperCase()+b.substr(1):a[1],command:a[2]===""?b:a[2],popupName:a[3]===""?b:a[3]}});delete k.init;cleditor=function(n,f){var d=this;d.options=f=a.extend({},a.cleditor.defaultOptions,f);var j=d.$area=a(n).hide().data(M,d).blur(function(){r(d,true)}),l=d.$main=a(c).addClass(W).width(f.width).height(f.height),i=d.$toolbar=a(c).addClass(R).appendTo(l),h=a(c).addClass(G).appendTo(i);a.each(f.controls.split(" "),function(p,l){if(l==="")return true;if(l=="|"){var o=a(c).addClass(Q).appendTo(h);h=a(c).addClass(G).appendTo(i)}else{var e=k[l],n=a(c).data(m,e.name).addClass(D).attr("title",e.title).bind(g,a.proxy(T,d)).appendTo(h).hover(H,I),j={};if(e.css)j=e.css;else if(e.image)j.backgroundImage=Z(e.image);if(e.stripIndex)j.backgroundPosition=e.stripIndex*-24;n.css(j);b&&n.attr(x,"on");e.popupName&&F(e.popupName,f,e.popupClass,e.popupContent,e.popupHover)}});l.insertBefore(j).append(j);if(!A){a(document).click(function(c){var b=a(c.target);!b.add(b.parents()).is("."+o)&&e()});A=true}/auto|%/.test(""+f.width+f.height)&&a(window).resize(function(){y(d)});y(d)};var P=cleditor.prototype,ab=[["clear",cb],["disable",N],["execCommand",i],["focus",l],["hidePopups",e],["sourceMode",j,true],["refresh",y],["select",bb],["selectedHTML",S,true],["selectedText",E,true],["showMessage",q],["updateFrame",r],["updateTextArea",C]];a.each(ab,function(b,a){P[a[0]]=function(){for(var b=this,d=[b],c=0;c<arguments.length;c++)d.push(arguments[c]);var e=a[1].apply(b,d);if(a[2])return e;return b}});P.change=function(b){var c=a(this);return b?c.bind(u,b):c.trigger(u)};function T(v){var b=this,c=v.target,o=a.data(c,m),r=k[o],p=r.popupName,u=f[p];if(b.disabled||a(c).attr(d)==d)return;var n={editor:b,button:c,buttonName:o,popup:u,popupName:p,command:r.command,useCSS:b.options.useCSS};if(r.buttonClick&&r.buttonClick(v,n)===false)return false;if(o=="source"){if(j(b)){delete b.range;b.$area.hide();b.$frame.show();c.title=r.title}else{b.$frame.hide();b.$area.show();c.title="Show Rich Text"}setTimeout(function(){h(b)},100)}else if(!j(b))if(p){var s=a(u);if(p=="url"){if(o=="link"&&E(b)===""){q(b,"A selection is required when inserting a link.",c);return false}s.children(":button").unbind(g).bind(g,function(){var c=s.find(":text"),d=a.trim(c.val());d!==""&&i(b,n.command,d,null,n.button);c.val("http://");e();l(b)})}else p=="pastetext"&&s.children(":button").unbind(g).bind(g,function(){var a=s.find("textarea"),c=a.val().replace(/\n/g,"<br />");c!==""&&i(b,n.command,c,null,n.button);a.val("");e();l(b)});if(c!==a.data(u,t)){L(b,u,c);return false}return}else if(o=="print")b.$frame[0].contentWindow.print();else if(!i(b,n.command,n.value,n.useCSS,c))return false;l(b)}function H(c){var b=a(c.target).closest("div");b.css(v,b.data(m)?"#FFF":"#FFC")}function I(b){a(b.target).closest("div").css(v,"transparent")}function X(r){var n=this,p=r.data.popup,c=r.target;if(p===f.msg||a(p).hasClass(o))return;var q=a.data(p,t),d=a.data(q,m),j=k[d],s=j.command,g,u=n.options.useCSS;if(d=="font")g=c.style.fontFamily.replace(/"/g,"");else if(d=="size"){if(c.tagName=="DIV")c=c.children[0];g=c.innerHTML}else if(d=="style")g="<"+c.tagName+">";else if(d=="color")g=O(c.style.backgroundColor);else if(d=="highlight"){g=O(c.style.backgroundColor);if(b)s="backcolor";else u=true}var h={editor:n,button:q,buttonName:d,popup:p,popupName:j.popupName,command:s,value:g,useCSS:u};if(j.popupClick&&j.popupClick(r,h)===false)return;if(h.command&&!i(n,h.command,h.value,h.useCSS,q))return false;e();l(n)}function s(d){for(var a=1,c=0,b=0;b<d.length;++b){a=(a+d.charCodeAt(b))%65521;c=(c+a)%65521}return c<<16|a}function cb(a){a.$area.val("");r(a)}function F(e,h,g,i,k){if(f[e])return f[e];var d=a(c).hide().addClass(V).appendTo("body");if(i)d.html(i);else if(e=="color"){var j=h.colors.split(" ");j.length<10&&d.width("auto");a.each(j,function(e,b){a(c).appendTo(d).css(v,"#"+b)});g=U}else if(e=="font")a.each(h.fonts.split(","),function(e,b){a(c).appendTo(d).css("fontFamily",b).html(b)});else if(e=="size")a.each(h.sizes.split(","),function(e,b){a(c).appendTo(d).html("<font size="+b+">"+b+"</font>")});else if(e=="style")a.each(h.styles,function(e,b){a(c).appendTo(d).html(b[1]+b[0]+b[1].replace("<","</"))});else if(e=="url"){d.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit">');g=o}else if(e=="pastetext"){d.html("Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>");g=o}if(!g&&!i)g=K;d.addClass(g);b&&d.attr(x,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(x,"on");(d.hasClass(K)||k===true)&&d.children().hover(H,I);f[e]=d[0];return d[0]}function N(a,c){if(c){a.$area.attr(d,d);a.disabled=true}else{a.$area.removeAttr(d);delete a.disabled}try{if(b)a.doc.body.contentEditable=!c;else a.doc.designMode=!c?"on":"off"}catch(e){}h(a)}function i(a,c,i,e,g){p(a);if(!b){if(e===undefined||e===null)e=a.options.useCSS;a.doc.execCommand("styleWithCSS",0,e.toString())}var d=true,f;if(b&&c.toLowerCase()=="inserthtml")n(a).pasteHTML(i);else{try{d=a.doc.execCommand(c,0,i||null)}catch(j){f=j.description;d=false}if(!d)if("cutcopypaste".indexOf(c)>-1)q(a,"For security reasons, your browser does not support the "+c+" command. Try using the keyboard shortcut or context menu instead.",g);else q(a,f?f:"Error executing the "+c+" command.",g)}h(a);return d}function l(a){setTimeout(function(){if(j(a))a.$area.focus();else a.$frame[0].contentWindow.focus();h(a)},0)}function n(a){if(b)return w(a).createRange();return w(a).getRangeAt(0)}function w(a){if(b)return a.doc.selection;return a.$frame[0].contentWindow.getSelection()}function O(a){var c=/rgba?\((\d+), (\d+), (\d+)/.exec(a),b=a.split("");if(c){a=(c[1]<<16|c[2]<<8|c[3]).toString(16);while(a.length<6)a="0"+a}return "#"+(a.length==6?a:b[1]+b[1]+b[2]+b[2]+b[3]+b[3])}function e(){a.each(f,function(c,b){a(b).hide().unbind(g).removeData(t)})}function J(){var b=".css",c=a("link[href$='"+b+"']").attr("href");return "/GlobalResourcesMvc/Default/images/BuilderShowCase/"}function Z(a){return "url("+J()+a+")"}function y(c){var j=c.$main,d=c.options;c.$frame&&c.$frame.remove();var f=c.$frame=a('<iframe frameborder="0" src="javascript:true;">').hide().appendTo(j),k=f[0].contentWindow,i=c.doc=k.document,g=a(i);i.open();i.write(d.docType+"<html>"+(d.docCSSFile===""?"":'<head><link rel="stylesheet" type="text/css" href="'+d.docCSSFile+'" /></head>')+'<body style="'+d.bodyStyle+'"></body></html>');i.close();b&&g.click(function(){l(c)});r(c);if(b){g.bind("beforedeactivate beforeactivate selectionchange keypress",function(a){if(a.type=="beforedeactivate")c.inactive=true;else if(a.type=="beforeactivate"){!c.inactive&&c.range&&c.range.length>1&&c.range.shift();delete c.inactive}else if(!c.inactive){if(!c.range)c.range=[];c.range.unshift(n(c));while(c.range.length>2)c.range.pop()}});f.focus(function(){p(c)})}(a.browser.mozilla?g:a(k)).blur(function(){C(c,true)});g.click(e).bind("keyup mouseup",function(){h(c)});if(z)c.$area.show();else f.show();a(function(){var b=c.$toolbar,e=b.children("div:last"),g=j.width(),a=e.offset().top+e.outerHeight()-b.offset().top+1;b.height(a);a=(/%/.test(""+d.height)?j.height():parseInt(d.height))-a;f.width(g).height(a);c.$area.width(g).height(db?a-2:a);N(c,c.disabled);h(c)})}function h(c){if(!z&&a.browser.webkit&&!c.focused){c.$frame[0].contentWindow.focus();window.focus();c.focused=true}var e=c.doc;if(b)e=n(c);var g=j(c);a.each(c.$toolbar.find("."+D),function(p,l){var k=a(l),j=a.cleditor.buttons[a.data(l,m)],h=j.command,i=true;if(c.disabled)i=false;else if(j.getEnabled){var n={editor:c,button:l,buttonName:j.name,popup:f[j.popupName],popupName:j.popupName,command:j.command,useCSS:c.options.useCSS};i=j.getEnabled(n);if(i===undefined)i=true}else if((g||z)&&j.name!="source"||b&&(h=="undo"||h=="redo"))i=false;else if(h&&h!="print"){if(b&&h=="hilitecolor")h="backcolor";if(!b||h!="inserthtml")try{i=e.queryCommandEnabled(h)}catch(o){i=false}}if(i){k.removeClass(B);k.removeAttr(d)}else{k.addClass(B);k.attr(d,d)}})}function p(a){b&&a.range&&a.range[0].select()}function bb(a){setTimeout(function(){if(j(a))a.$area.select();else i(a,"selectall")},0)}function S(d){p(d);var e=n(d);if(b)return e.htmlText;var c=a("<layer>")[0];c.appendChild(e.cloneContents());var f=c.innerHTML;c=null;return f}function E(a){p(a);if(b)return n(a).text;return w(a).toString()}function q(a,c,d){var b=F("msg",a.options,Y);b.innerHTML=c;L(a,b,d)}function L(l,h,d){var b,i,j,c=a(h);if(d){var k=a(d);b=k.offset();i=--b.left;j=b.top+k.height()}else{var f=l.$toolbar;b=f.offset();i=Math.floor((f.width()-c.width())/2)+b.left;j=b.top+f.height()-2}e();c.css({left:i,top:j}).show();if(d){a.data(h,t,d);c.bind(g,{popup:h},a.proxy(X,l))}setTimeout(function(){c.find(":text,textarea").eq(0).focus().select()},100)}function j(a){return a.$area.is(":visible")}function r(b,i){var e=b.$area.val(),f=b.options,d=f.updateFrame,g=a(b.doc.body);if(d){var h=s(e);if(i&&b.areaChecksum==h)return;b.areaChecksum=h}var c=d?d(e):e;c=c.replace(/<(?=\/?script)/ig,"&lt;");if(f.updateTextArea)b.frameChecksum=s(c);if(c!=g.html()){g.html(c);a(b).triggerHandler(u)}}function C(b,i){var e=a(b.doc.body).html(),f=b.options,c=f.updateTextArea,g=b.$area;if(c){var h=s(e);if(i&&b.frameChecksum==h)return;b.frameChecksum=h}var d=c?c(e):e;if(f.updateFrame)b.areaChecksum=s(d);if(d!=g.val()){g.val(d);a(b).triggerHandler(u)}}})(jQuery);(function(a){"use strict";var b=function(a,c){var d=/[^\w\-\.:]/.test(a)?new Function(b.arg+",tmpl","var _e=tmpl.encode"+b.helper+",_s='"+a.replace(b.regexp,b.func)+"';return _s;"):b.cache[a]=b.cache[a]||b(b.load(a));return c?d(c,b):function(a){return d(a,b)}};b.cache={},b.load=function(a){return document.getElementById(a).innerHTML},b.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,b.func=function(a,b,c,d,e,f){if(b)return{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[a]||"\\"+a;if(c)return c==="="?"'+_e("+d+")+'":"'+("+d+"||'')+'";if(e)return"';";if(f)return"_s+='"},b.encReg=/[<>&"'\x00]/g,b.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},b.encode=function(a){return String(a||"").replace(b.encReg,function(a){return b.encMap[a]||""})},b.arg="o",b.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}",typeof define=="function"&&define.amd?define(function(){return b}):a.tmpl=b})(this);;(function(a){"use strict";var b=function(a,c,d){var e=document.createElement("img"),f,g;return e.onerror=c,e.onload=function(){g&&b.revokeObjectURL(g),c(b.scale(e,d))},window.Blob&&a instanceof Blob||window.File&&a instanceof File?f=g=b.createObjectURL(a):f=a,f?(e.src=f,e):b.readFile(a,function(a){e.src=a})},c=window.createObjectURL&&window||window.URL&&URL||window.webkitURL&&webkitURL;b.scale=function(a,b){b=b||{};var c=document.createElement("canvas"),d=Math.max((b.minWidth||a.width)/a.width,(b.minHeight||a.height)/a.height);return d>1&&(a.width=parseInt(a.width*d,10),a.height=parseInt(a.height*d,10)),d=Math.min((b.maxWidth||a.width)/a.width,(b.maxHeight||a.height)/a.height),d<1&&(a.width=parseInt(a.width*d,10),a.height=parseInt(a.height*d,10)),!b.canvas||!c.getContext?a:(c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0,a.width,a.height),c)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b){if(window.FileReader&&FileReader.prototype.readAsDataURL){var c=new FileReader;return c.onload=function(a){b(a.target.result)},c.readAsDataURL(a),c}return!1},typeof define!="undefined"&&define.amd?define(function(){return b}):a.loadImage=b})(this);;(function(a){"use strict";var b=window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder,c=/^image\/(jpeg|png)$/,d=function(a,e,f){f=f||{};if(a.toBlob)return a.toBlob(e,f.type),!0;if(a.mozGetAsFile){var g=f.name;return e(a.mozGetAsFile(c.test(f.type)&&g||(g&&g.replace(/\..+$/,"")||"blob")+".png",f.type)),!0}return a.toDataURL&&b&&window.atob&&window.ArrayBuffer&&window.Uint8Array?(e(d.dataURItoBlob(a.toDataURL(f.type))),!0):!1};d.dataURItoBlob=function(a){var c,d,e,f,g,h;a.split(",")[0].indexOf("base64")>=0?c=atob(a.split(",")[1]):c=decodeURIComponent(a.split(",")[1]),d=new ArrayBuffer(c.length),e=new Uint8Array(d);for(f=0;f<c.length;f+=1)e[f]=c.charCodeAt(f);return g=new b,g.append(d),h=a.split(",")[0].split(":")[1].split(";")[0],g.getBlob(h)},typeof define!="undefined"&&define.amd?define(function(){return d}):a.canvasToBlob=d})(this);;!function(a){a(function(){"use strict",a.support.transition=function(){var b=document.body||document.documentElement,c=b.style,d=c.transition!==undefined||c.WebkitTransition!==undefined||c.MozTransition!==undefined||c.MsTransition!==undefined||c.OTransition!==undefined;return d&&{end:function(){var b="TransitionEnd";return a.browser.webkit?b="webkitTransitionEnd":a.browser.mozilla?b="transitionend":a.browser.opera&&(b="oTransitionEnd"),b}()}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype={constructor:c,close:function(b){function f(){e.remove(),e.trigger("closed")}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),e.trigger("close"),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()}},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype={constructor:b,setState:function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},toggle:function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")}},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){a(b.target).button("toggle")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.carousel.defaults,c),this.options.slide&&this.slide(this.options.slide)};b.prototype={cycle:function(){return this.interval=setInterval(a.proxy(this.next,this),this.options.interval),this},to:function(b){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(){return clearInterval(this.interval),this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this;return this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h](),!a.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.trigger("slide"),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})),f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=typeof c=="object"&&c;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):typeof c=="string"||(c=f.slide)?e[c]():e.cycle()})},a.fn.carousel.defaults={interval:5e3},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find(".in"),e;d&&d.length&&(e=d.data("collapse"),d.collapse("hide"),e||d.data("collapse",null)),this.$element[b](0),this.transition("addClass","show","shown"),this.$element[b](this.$element[0][c])},hide:function(){var a=this.dimension();this.reset(this.$element[a]()),this.transition("removeClass","hide","hidden"),this.$element[a](0)},reset:function(a){var b=this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element.addClass("collapse")},transition:function(b,c,d){var e=this,f=function(){c=="show"&&e.reset(),e.$element.trigger(d)};this.$element.trigger(c)[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();a(e).collapse(f)})})}(window.jQuery),!function(a){function d(){a(b).parent().removeClass("open")}"use strict";var b='[data-toggle="dropdown"]',c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),e=c.attr("data-target"),f,g;return e||(e=c.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),f=a(e),f.length||(f=c.parent()),g=f.hasClass("open"),d(),!g&&f.toggleClass("open"),!1}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api",d),a("body").on("click.dropdown.data-api",b,c.prototype.toggle)})}(window.jQuery),!function(a){function c(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),d.call(b)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),d.call(b)})}function d(a){this.$element.hide().trigger("hidden"),e.call(this)}function e(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(f,this)):f.call(this)):b&&b()}function f(){this.$backdrop.remove(),this.$backdrop=null}function g(){var b=this;this.isShown&&this.options.keyboard?a(document).on("keyup.dismiss.modal",function(a){a.which==27&&b.hide()}):this.isShown||a(document).off("keyup.dismiss.modal")}"use strict";var b=function(b,c){this.options=a.extend({},a.fn.modal.defaults,c),this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this;if(this.isShown)return;a("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),g.call(this),e.call(this,function(){var c=a.support.transition&&b.$element.hasClass("fade");!b.$element.parent().length&&b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in"),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();if(!this.isShown)return;var e=this;this.isShown=!1,a("body").removeClass("modal-open"),g.call(this),this.$element.trigger("hide").removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?c.call(this):d.call(this)}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=typeof c=="object"&&c;e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({},e.data(),c.data());b.preventDefault(),e.modal(f)})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);!c.options.delay||!c.options.delay.show?c.show():(c.hoverState="in",setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show))},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);!c.options.delay||!c.options.delay.hide?c.hide():(c.hoverState="out",setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide))},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip();a.find(".tooltip-inner").html(this.getTitle()),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a=a.toString().replace(/(^\s*|\s*$)/,""),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var b=this.tip(),c=this.getTitle(),d=this.getContent();b.find(".popover-title")[a.type(c)=="object"?"append":"html"](c),b.find(".popover-content > *")[a.type(d)=="object"?"append":"html"](d),b.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a=a.toString().replace(/(^\s*|\s*$)/,""),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body").on("click.scroll.data-api",this.selector,d),this.refresh(),this.process()}"use strict",b.prototype={constructor:b,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var b=a(this).attr("href");return/^#\w/.test(b)&&a(b).length?b:null}),this.offsets=a.map(this.targets,function(b){return a(b).position().top})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.offsets,c=this.targets,d=this.activeTarget,e;for(e=b.length;e--;)d!=c[e]&&a>=b[e]&&(!b[e+1]||a<=b[e+1])&&this.activate(c[e])},activate:function(a){var b;this.activeTarget=a,this.$body.find(this.selector).parent(".active").removeClass("active"),b=this.$body.find(this.selector+'[href="'+a+'"]').parent("li").addClass("active"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],b.trigger({type:"show",relatedTarget:e}),f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(a),this.hide()},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c=this,d,e;return this.query=this.$element.val(),this.query?(d=a.grep(this.source,function(a){if(c.matcher(a))return a}),d=this.sorter(d),d.length?this.render(d.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){return a.replace(new RegExp("("+this.query+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keypress,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(a){a.stopPropagation(),a.preventDefault();switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(a){a.stopPropagation();if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}},blur:function(a){var b=this;a.stopPropagation(),a.preventDefault(),setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery);;(function(a){"use strict";if(typeof define==="function"&&define.amd)define(["jquery"],a);else a(window.jQuery)})(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async&&(c.type==="POST"||c.type==="GET")){var d,e;return {send:function(g,f){d=a('<form style="display:none;"></form>');e=a('<iframe src="javascript:false;" name="iframe-transport-'+(b+=1)+'"></iframe>').bind("load",function(){var b;e.unbind("load").bind("load",function(){var b;try{b=e.contents();if(!b.length||!b[0].firstChild)throw new Error;}catch(c){b=undefined}f(200,"success",{iframe:b});a('<iframe src="javascript:false;"></iframe>').appendTo(d);d.remove()});d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type);c.formData&&a.each(c.formData,function(c,b){a('<input type="hidden"/>').prop("name",b.name).val(b.value).appendTo(d)});if(c.fileInput&&c.fileInput.length&&c.type==="POST"){b=c.fileInput.clone();c.fileInput.after(function(a){return b[a]});c.paramName&&c.fileInput.each(function(){a(this).prop("name",c.paramName)});d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")}d.submit();b&&b.length&&c.fileInput.each(function(e,d){var c=a(b[e]);a(d).prop("name",c.prop("name"));c.replaceWith(d)})});d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;"));d&&d.remove()}}}});a.ajaxSetup({converters:{"iframe text":function(b){return a(b[0].body).text()},"iframe json":function(b){return a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return a(b[0].body).html()},"iframe script":function(b){return a.globalEval(a(b[0].body).text())}}})});(function(a){"use strict";if(typeof define==="function"&&define.amd)define(["jquery","jquery.ui.widget"],a);else a(window.jQuery)})(function(a){"use strict";a.support.xhrFileUpload=!!(window.XMLHttpRequestUpload&&window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.widget("blueimp.fileupload",{options:{"namespace":undefined,dropZone:a(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,formData:function(a){return a.serializeArray()},add:function(b,a){a.submit()},processData:false,contentType:false,cache:false},_refreshOptionsList:["namespace","dropZone","fileInput","multipart","forceIframeTransport"],_isXHRUpload:function(b){return !b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;if(typeof b.formData==="function")return b.formData(b.form);else if(a.isArray(b.formData))return b.formData;else if(b.formData){c=[];a.each(b.formData,function(b,a){c.push({name:b,value:a})});return c}return []},_getTotal:function(c){var b=0;a.each(c,function(c,a){b+=a.size||1});return b},_onProgress:function(b,a){if(b.lengthComputable){var d=a.total||this._getTotal(a.files),c=parseInt(b.loaded/b.total*(a.chunkSize||d),10)+(a.uploadedBytes||0);this._loaded+=c-(a.loaded||a.uploadedBytes||0);a.lengthComputable=true;a.loaded=c;a.total=d;this._trigger("progress",b,a);this._trigger("progressall",b,{lengthComputable:true,loaded:this._loaded,total:this._total})}},_initProgressListener:function(b){var d=this,c=b.xhr?b.xhr():a.ajaxSettings.xhr();if(c.upload){a(c.upload).bind("progress",function(a){var c=a.originalEvent;a.lengthComputable=c.lengthComputable;a.loaded=c.loaded;a.total=c.total;d._onProgress(a,b)});b.xhr=function(){return c}}},_initXHRData:function(b){var c,d=b.files[0],e=b.multipart||!a.support.xhrFileUpload;if(!e||b.blob){b.headers=a.extend(b.headers,{"X-File-Name":d.name,"X-File-Type":d.type,"X-File-Size":d.size});if(!b.blob){b.contentType=d.type;b.data=d}else if(!e){b.contentType="application/octet-stream";b.data=b.blob}}if(e&&a.support.xhrFormDataFileUpload){if(b.postMessage){c=this._getFormData(b);if(b.blob)c.push({name:b.paramName,value:b.blob});else a.each(b.files,function(d,a){c.push({name:b.paramName,value:a})})}else{if(b.formData instanceof FormData)c=b.formData;else{c=new FormData;a.each(this._getFormData(b),function(b,a){c.append(a.name,a.value)})}if(b.blob)c.append(b.paramName,b.blob,d.name);else a.each(b.files,function(d,a){a instanceof Blob&&c.append(b.paramName,a,a.name)})}b.data=c}b.blob=null},_initIframeSettings:function(b){b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);b.redirect&&a("<a></a>").prop("href",b.url).prop("host")!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){if(this._isXHRUpload(a)){if(!this._chunkedUpload(a,true)){!a.data&&this._initXHRData(a);this._initProgressListener(a)}if(a.postMessage)a.dataType="postmessage "+(a.dataType||"")}else this._initIframeSettings(a,"iframe")},_initFormSettings:function(b){if(!b.form||!b.form.length)b.form=a(b.fileInput.prop("form"));if(!b.paramName)b.paramName=b.fileInput.prop("name")||"files[]";if(!b.url)b.url=b.form.prop("action")||location.href;b.type=(b.type||b.form.prop("method")||"").toUpperCase();if(b.type!=="POST"&&b.type!=="PUT")b.type="POST"},_getAJAXSettings:function(c){var b=a.extend({},this.options,c);this._initFormSettings(b);this._initDataSettings(b);this._trigger("AJAXSettings",null,b);return b},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(e,b,f){var c=a.Deferred(),d=c.promise();b=b||this.options.context||d;if(e===true)c.resolveWith(b,f);else e===false&&c.rejectWith(b,f);d.abort=c.promise;return this._enhancePromise(d)},_chunkedUpload:function(b,m){var d=this,c=b.files[0],g=c.size,e=b.uploadedBytes=b.uploadedBytes||0,f=b.maxChunkSize||g,k=c.webkitSlice||c.mozSlice||c.slice,h,l,i,j;if(!(this._isXHRUpload(b)&&k&&(e||f<g))||b.data)return false;if(m)return true;if(e>=g){c.error="uploadedBytes";return this._getXHRPromise(false,b.context,[null,"error",c.error])}l=Math.ceil((g-e)/f);h=function(g){if(!g)return d._getXHRPromise(true,b.context);return h(g-=1).pipe(function(){var h=a.extend({},b);h.blob=k.call(c,e+g*f,e+(g+1)*f);h.chunkSize=h.blob.size;d._initXHRData(h);d._initProgressListener(h);i=(a.ajax(h)||d._getXHRPromise(false,h.context)).done(function(){!h.loaded&&d._onProgress(a.Event("progress",{lengthComputable:true,loaded:h.chunkSize,total:h.chunkSize}),h);b.uploadedBytes=h.uploadedBytes+=h.chunkSize});return i})};j=h(l);j.abort=function(){return i.abort()};return this._enhancePromise(j)},_beforeSend:function(b,a){this._active===0&&this._trigger("start");this._active+=1;this._loaded+=a.uploadedBytes||0;this._total+=this._getTotal(a.files)},_onDone:function(d,c,e,b){!this._isXHRUpload(b)&&this._onProgress(a.Event("progress",{lengthComputable:true,loaded:1,total:1}),b);b.result=d;b.textStatus=c;b.jqXHR=e;this._trigger("done",null,b)},_onFail:function(d,c,b,a){a.jqXHR=d;a.textStatus=c;a.errorThrown=b;this._trigger("fail",null,a);if(a.recalculateProgress){this._loaded-=a.loaded||a.uploadedBytes||0;this._total-=a.total||this._getTotal(a.files)}},_onAlways:function(c,d,b,a){this._active-=1;a.textStatus=d;if(b&&b.always){a.jqXHR=b;a.result=c}else{a.jqXHR=c;a.errorThrown=b}this._trigger("always",null,a);if(this._active===0){this._trigger("stop");this._loaded=this._total=0}},_onSend:function(h,i){var b=this,d,f,g,c=b._getAJAXSettings(i),e=function(e,f){b._sending+=1;d=d||(e!==false&&b._trigger("send",h,c)!==false&&(b._chunkedUpload(c)||a.ajax(c))||b._getXHRPromise(false,c.context,f)).done(function(d,a,e){b._onDone(d,a,e,c)}).fail(function(e,d,a){b._onFail(e,d,a,c)}).always(function(d,f,e){b._sending-=1;b._onAlways(d,f,e,c);if(c.limitConcurrentUploads&&c.limitConcurrentUploads>b._sending){var a=b._slots.shift();while(a){if(!a.isRejected()){a.resolve();break}a=b._slots.shift()}}});return d};this._beforeSend(h,c);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(this.options.limitConcurrentUploads>1){f=a.Deferred();this._slots.push(f);g=f.pipe(e)}else g=this._sequence=this._sequence.pipe(e,e);g.abort=function(){var a=[undefined,"abort","abort"];if(!d){f&&f.rejectWith(a);return e(false,a)}return d.abort()};return this._enhancePromise(g)}return e()},_onAdd:function(h,b){var g=this,i=true,e=a.extend({},this.options,b),f=e.limitMultiFileUploads,c,d;if(!(e.singleFileUploads||f)||!this._isXHRUpload(e))c=[b.files];else if(!e.singleFileUploads&&f){c=[];for(d=0;d<b.files.length;d+=f)c.push(b.files.slice(d,d+f))}b.originalFiles=b.files;a.each(c||b.files,function(j,e){var f=c?e:[e],d=a.extend({},b,{files:f});d.submit=function(){d.jqXHR=this.jqXHR=g._trigger("submit",h,this)!==false&&g._onSend(h,this);return this.jqXHR};return i=g._trigger("add",h,d)});return i},_normalizeFile:function(b,a){if(a.name===undefined&&a.size===undefined){a.name=a.fileName;a.size=a.fileSize}},_replaceFileInput:function(b){var c=b.clone(true);a("<form></form>").append(c)[0].reset();b.after(c).detach();a.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(d,a){if(a===b[0])return c[0];return a});if(b[0]===this.element[0])this.element=c},_onChange:function(b){var d=b.data.fileupload,c={files:a.each(a.makeArray(b.target.files),d._normalizeFile),fileInput:a(b.target),form:a(b.target.form)};if(!c.files.length)c.files=[{name:b.target.value.replace(/^.*\\/,"")}];d.options.replaceFileInput&&d._replaceFileInput(c.fileInput);if(d._trigger("change",b,c)===false||d._onAdd(b,c)===false)return false},_onPaste:function(b){var d=b.data.fileupload,e=b.originalEvent.clipboardData,f=e&&e.items||[],c={files:[]};a.each(f,function(d,b){var a=b.getAsFile&&b.getAsFile();a&&c.files.push(a)});if(d._trigger("paste",b,c)===false||d._onAdd(b,c)===false)return false},_onDrop:function(b){var c=b.data.fileupload,d=b.dataTransfer=b.originalEvent.dataTransfer,e={files:a.each(a.makeArray(d&&d.files),c._normalizeFile)};if(c._trigger("drop",b,e)===false||c._onAdd(b,e)===false)return false;b.preventDefault()},_onDragOver:function(b){var d=b.data.fileupload,c=b.dataTransfer=b.originalEvent.dataTransfer;if(d._trigger("dragover",b)===false)return false;if(c&&a.inArray("Files",c.types)!==-1){c.dropEffect="copy";b.preventDefault()}},_initEventHandlers:function(){var a=this.options.namespace;this._isXHRUpload(this.options)&&this.options.dropZone.bind("dragover."+a,{fileupload:this},this._onDragOver).bind("drop."+a,{fileupload:this},this._onDrop).bind("paste."+a,{fileupload:this},this._onPaste);this.options.fileInput.bind("change."+a,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var a=this.options.namespace;this.options.dropZone.unbind("dragover."+a,this._onDragOver).unbind("drop."+a,this._onDrop).unbind("paste."+a,this._onPaste);this.options.fileInput.unbind("change."+a,this._onChange)},_setOption:function(c,d){var b=a.inArray(c,this._refreshOptionsList)!==-1;b&&this._destroyEventHandlers();a.Widget.prototype._setOption.call(this,c,d);if(b){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var b=this.options;if(b.fileInput===undefined)b.fileInput=this.element.is("input:file")?this.element:this.element.find("input:file");else if(!(b.fileInput instanceof a))b.fileInput=a(b.fileInput);if(!(b.dropZone instanceof a))b.dropZone=a(b.dropZone)},_create:function(){var b=this.options,c=a.extend({},this.element.data());c[this.widgetName]=undefined;a.extend(b,c);b.namespace=b.namespace||this.widgetName;this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=this._loaded=this._total=0;this._initEventHandlers()},destroy:function(){this._destroyEventHandlers();a.Widget.prototype.destroy.call(this)},enable:function(){a.Widget.prototype.enable.call(this);this._initEventHandlers()},disable:function(){this._destroyEventHandlers();a.Widget.prototype.disable.call(this)},add:function(b){if(!b||this.options.disabled)return;b.files=a.each(a.makeArray(b.files),this._normalizeFile);this._onAdd(null,b)},send:function(b){if(b&&!this.options.disabled){b.files=a.each(a.makeArray(b.files),this._normalizeFile);if(b.files.length)return this._onSend(null,b)}return this._getXHRPromise(false,b&&b.context)}})});(function(a){"use strict";if(typeof define==="function"&&define.amd)define(["jquery","load-image","canvas-to-blob","./jquery.fileupload"],a);else a(window.jQuery,window.loadImage,window.canvasToBlob)})(function(a,c,b){"use strict";a.widget("blueimpIP.fileupload",a.blueimp.fileupload,{options:{resizeSourceFileTypes:/^image\/(gif|jpeg|png)$/,resizeSourceMaxFileSize:2e7,resizeMaxWidth:undefined,resizeMaxHeight:undefined,resizeMinWidth:undefined,resizeMinHeight:undefined,add:function(c,b){a(this).fileupload("resize",b).done(function(){b.submit()})}},_resizeImage:function(h,i,d){var j=this,e=h[i],g=a.Deferred(),f,k;d=d||this.options;c(e,function(a){var l=a.width,k=a.height;f=c.scale(a,{maxWidth:d.resizeMaxWidth,maxHeight:d.resizeMaxHeight,minWidth:d.resizeMinWidth,minHeight:d.resizeMinHeight,canvas:true});if(l!==f.width||k!==f.height)b(f,function(a){if(!a.name)if(e.type===a.type)a.name=e.name;else if(e.name)a.name=e.name.replace(/\..+$/,"."+a.type.substr(6));h[i]=a;g.resolveWith(j)},e);else g.resolveWith(j)});return g.promise()},resize:function(d){var b=this,c=a.extend({},this.options,d),f=a.type(c.resizeSourceMaxFileSize)!=="number",e=this._isXHRUpload(c);a.each(d.files,function(h,g){if(e&&b._resizeSupport&&(f||g.size<c.resizeSourceMaxFileSize)&&c.resizeSourceFileTypes.test(g.type)){b._processing+=1;b._processing===1&&b.element.addClass("fileupload-processing");b._processingQueue=b._processingQueue.pipe(function(){var e=a.Deferred();b._resizeImage(d.files,h,c).done(function(){b._processing-=1;b._processing===0&&b.element.removeClass("fileupload-processing");e.resolveWith(b)});return e.promise()})}});return this._processingQueue},_create:function(){a.blueimp.fileupload.prototype._create.call(this);this._processing=0;this._processingQueue=a.Deferred().resolveWith(this).promise();this._resizeSupport=b&&b(document.createElement("canvas"),a.noop)}})});(function(a){"use strict";if(typeof define==="function"&&define.amd)define(["jquery","tmpl","load-image","./jquery.fileupload-ip"],a);else a(window.jQuery,window.tmpl,window.loadImage)})(function(a,c,d){"use strict";var b=(a.blueimpIP||a.blueimp).fileupload;a.widget("blueimpUI.fileupload",b,{options:{autoUpload:false,maxNumberOfFiles:undefined,maxFileSize:undefined,minFileSize:undefined,acceptFileTypes:/.+$/i,previewSourceFileTypes:/^image\/(gif|jpeg|png)$/,previewSourceMaxFileSize:5e6,previewMaxWidth:80,previewMaxHeight:80,previewAsCanvas:true,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",dataType:"json",add:function(f,b){var c=a(this).data("fileupload"),e=c.options,d=b.files;c._adjustMaxNumberOfFiles(-d.length);b.isAdjusted=true;a(this).fileupload("resize",b);b.files.valid=b.isValidated=c._validate(d);b.context=c._renderUpload(d).prependTo(e.filesContainer).data("data",b);c._renderPreviews(d,b.context);c._forceReflow(b.context);c._transition(b.context);c._trigger("added",f,b)!==false&&(e.autoUpload||b.autoUpload)&&b.autoUpload!==false&&b.isValidated&&b.submit()},send:function(d,b){var c=a(this).data("fileupload");if(!b.isValidated){!b.isAdjusted&&c._adjustMaxNumberOfFiles(-b.files.length);if(!c._validate(b.files))return false}b.context&&b.dataType&&b.dataType.substr(0,6)==="iframe"&&b.context.find(".progress").addClass(!a.support.transition&&"progress-animated").find(".bar").css("width",parseInt(100,10)+"%");return c._trigger("sent",d,b)},done:function(e,c){var b=a(this).data("fileupload"),d,f;if(c.context)c.context.each(function(h){var f=a.isArray(c.result)&&c.result[h]||{error:"emptyResult"};f.error&&b._adjustMaxNumberOfFiles(1);b._transition(a(this));var g=a(this);d=b._renderDownload([f]).css("height",g.height()).replaceAll(g);b._forceReflow(d);b._transition(d);c.context=a(this);b._trigger("completed",e,c)});else{d=b._renderDownload(c.result).appendTo(b.options.filesContainer);b._forceReflow(d);b._transition(d);c.context=a(this);b._trigger("completed",e,c);b._adjustMaxNumberOfFiles(-c.result.length)}},fail:function(d,b){var c=a(this).data("fileupload"),e;c._adjustMaxNumberOfFiles(b.files.length);if(b.context)b.context.each(function(g){if(b.errorThrown!=="abort"){var f=b.files[g];f.error=f.error||b.errorThrown||true;c._transition(a(this));var h=a(this);e=c._renderDownload([f]).replaceAll(h);c._forceReflow(e);c._transition(e);b.context=a(this);c._trigger("failed",d,b)}else{c._transition(a(this));a(this).remove();c._trigger("failed",d,b)}});else if(b.errorThrown!=="abort"){c._adjustMaxNumberOfFiles(-b.files.length);b.context=c._renderUpload(b.files).appendTo(c.options.filesContainer).data("data",b);c._forceReflow(b.context);c._transition(b.context);b.context=a(this);c._trigger("failed",d,b)}else c._trigger("failed",d,b)},progress:function(b,a){a.context&&a.context.find(".progress .bar").css("width",parseInt(a.loaded/a.total*100,10)+"%")},progressall:function(c,b){a(this).find(".fileupload-buttonbar .progress .bar").css("width",parseInt(b.loaded/b.total*100,10)+"%")},start:function(c){var b=a(this).data("fileupload");b._transition(a(this).find(".fileupload-buttonbar .progress"));b._trigger("started",c)},stop:function(c){var b=a(this).data("fileupload");b._transition(a(this).find(".fileupload-buttonbar .progress"));a(this).find(".bar").css("width","0%");b._trigger("stopped",c)},destroy:function(d,b){var c=a(this).data("fileupload");b.url&&a.ajax(b);c._adjustMaxNumberOfFiles(1);c._transition(b.context);a(b.context).remove();c._trigger("destroyed",d,b)}},_enableDragToDesktop:function(){var b=a(this),e=b.prop("href"),c=b.prop("download"),d="application/octet-stream";b.bind("dragstart",function(b){try{b.originalEvent.dataTransfer.setData("DownloadURL",[d,c,e].join(":"))}catch(a){}})},_adjustMaxNumberOfFiles:function(a){if(typeof this.options.maxNumberOfFiles==="number"){this.options.maxNumberOfFiles+=a;if(this.options.maxNumberOfFiles<1)this._disableFileInputButton();else this._enableFileInputButton()}},_formatFileSize:function(a){if(typeof a!=="number")return "";if(a>=1e9)return (a/1e9).toFixed(2)+" GB";if(a>=1e6)return (a/1e6).toFixed(2)+" MB";return (a/1e3).toFixed(2)+" KB"},_hasError:function(a){if(a.error)return a.error;if(this.options.maxNumberOfFiles<0)return "maxNumberOfFiles";if(!(this.options.acceptFileTypes.test(a.type)||this.options.acceptFileTypes.test(a.name)))return "acceptFileTypes";if(this.options.maxFileSize&&a.size>this.options.maxFileSize)return "maxFileSize";if(typeof a.size==="number"&&a.size<this.options.minFileSize)return "minFileSize";return null},_validate:function(b){var d=this,c=!!b.length;a.each(b,function(b,a){a.error=d._hasError(a);if(a.error)c=false});return c},_renderTemplate:function(c,d){if(!c)return a();var b=c({files:d,formatFileSize:this._formatFileSize,options:this.options});if(b instanceof a)return b;var e=a(this.options.templatesContainer).html(b).children();this._trigger("onRenderTemplate");return e},_renderPreview:function(g,b){var f=this,e=this.options,c=a.Deferred();return (d&&d(g,function(a){b.append(a);f._forceReflow(b);f._transition(b);c.resolveWith(b)},{maxWidth:e.previewMaxWidth,maxHeight:e.previewMaxHeight,canvas:e.previewAsCanvas})||c.resolveWith(b))&&c},_renderPreviews:function(d,e){var b=this,c=this.options;e.find(".preview span").each(function(g,f){var e=d[g];if(c.previewSourceFileTypes.test(e.type)&&(a.type(c.previewSourceMaxFileSize)!=="number"||e.size<c.previewSourceMaxFileSize))b._processingQueue=b._processingQueue.pipe(function(){var c=a.Deferred();b._renderPreview(e,a(f));c.resolveWith(b);return c.promise()})});return this._processingQueue},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(c){c.preventDefault();var d=a(this),e=d.closest(".template-upload"),b=e.data("data");c.data.fileupload._trigger("startHandler",c,b);b&&b.submit&&!b.jqXHR&&b.submit()&&d.prop("disabled",true)},_cancelHandler:function(c){c.preventDefault();var d=a(this).closest(".template-upload"),b=d.data("data")||{};if(!b.jqXHR){b.errorThrown="abort";c.data.fileupload._trigger("fail",c,b)}else b.jqXHR.abort()},_deleteHandler:function(b){b.preventDefault();var c=a(this);b.data.fileupload._trigger("destroy",b,{context:c.closest(".template-download"),url:c.attr("data-url"),type:c.attr("data-type")||"DELETE",dataType:b.data.fileupload.options.dataType})},_forceReflow:function(b){this._reflow=a.support.transition&&b.length&&b[0].offsetWidth},_transition:function(b){var d=this,c=a.Deferred();if(a.support.transition&&b.hasClass("fade"))b.bind(a.support.transition.end,function(d){if(d.target===b[0]){b.unbind(a.support.transition.end);c.resolveWith(b)}}).toggleClass("in");else{b.toggleClass("in");c.resolveWith(b)}return c},_initButtonBarEventHandlers:function(){var b=this.element.find(".fileupload-buttonbar"),c=this.options.filesContainer,d=this.options.namespace;b.find(".start").bind("click."+d,function(a){a.preventDefault();c.find(".start button").click()});b.find(".cancel").bind("click."+d,function(a){a.preventDefault();c.find(".cancel button").click()});b.find(".delete").bind("click."+d,function(a){a.preventDefault();c.find(".delete input:checked").siblings("button").click();b.find(".toggle").prop("checked",false)});b.find(".toggle").bind("change."+d,function(){c.find(".delete input").prop("checked",a(this).is(":checked"))})},_destroyButtonBarEventHandlers:function(){this.element.find(".fileupload-buttonbar button").unbind("click."+this.options.namespace);this.element.find(".fileupload-buttonbar .toggle").unbind("change."+this.options.namespace)},_initEventHandlers:function(){b.prototype._initEventHandlers.call(this);var a={fileupload:this};this.options.filesContainer.delegate(".start button","click."+this.options.namespace,a,this._startHandler).delegate(".cancel button","click."+this.options.namespace,a,this._cancelHandler).delegate(".delete button","click."+this.options.namespace,a,this._deleteHandler);this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){var a=this.options;this._destroyButtonBarEventHandlers();a.filesContainer.undelegate(".start button","click."+a.namespace).undelegate(".cancel button","click."+a.namespace).undelegate(".delete button","click."+a.namespace);b.prototype._destroyEventHandlers.call(this)},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",false).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",true).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=document.createElement(a.filesContainer.prop("nodeName"));if(c){if(a.uploadTemplateId)a.uploadTemplate=c(a.uploadTemplateId);if(a.downloadTemplateId)a.downloadTemplate=c(a.downloadTemplateId)}},_initFilesContainer:function(){var b=this.options;if(b.filesContainer===undefined)b.filesContainer=this.element.find(".files");else if(!(b.filesContainer instanceof a))b.filesContainer=a(b.filesContainer)},_initSpecialOptions:function(){b.prototype._initSpecialOptions.call(this);this._initFilesContainer();this._initTemplates()},_create:function(){b.prototype._create.call(this);this._refreshOptionsList.push("filesContainer","uploadTemplateId","downloadTemplateId");if(!a.blueimpIP){this._processingQueue=a.Deferred().resolveWith(this).promise();this.resize=function(){return this._processingQueue}}},enable:function(){b.prototype.enable.call(this);this.element.find("input, button").prop("disabled",false);this._enableFileInputButton()},disable:function(){this.element.find("input, button").prop("disabled",true);this._disableFileInputButton();b.prototype.disable.call(this)}})});window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Upload",cancel:"Cancel",destroy:"Delete"},Processed:"Processed",NotExists:"Image doesn't exist",NotProcessed:"Not processed"};FileUpload=function(a){this._options=a};FileUpload.prototype={init:function(){var b=this;$jq(".editor").cleditor({width:"99%",height:"300px"});$jq("#fileupload").fileupload();$jq("#fileupload2").fileupload();var g={startHandler:function(b,a){a.description="description="+a.context.find(".nhs_Caption").val()+"&title="+a.context.find(".nhs_Caption").val()},AJAXSettings:function(c,a){var b=$jq("#BrandId option:selected").val();if(!b)b=$jq("#BrandId").val();a.url=a.url+"?brandid="+b+"&ImageTypeCode=BRD&"+a.description},maxNumberOfFiles:24},f={startHandler:function(b,a){a.description="description="+a.context.find(".nhs_Caption").val()+"&title="+a.context.find(".nhs_Title").val()+"&accreditationurl="+a.context.find(".nhs_AccreditationUrl").val()},AJAXSettings:function(c,a){var b=$jq("#BrandId option:selected").val();if(!b)b=$jq("#BrandId").val();a.url=a.url+"?brandid="+b+"&ImageTypeCode=BAA&"+a.description},maxNumberOfFiles:6,uploadTemplateId:"template-upload2",downloadTemplateId:"template-download2"},e=$jq.extend({},this._options,g),d=$jq.extend({},this._options,f);$jq("#fileupload").fileupload("option",e);$jq("#fileupload2").fileupload("option",d);var c=this._options.url,a=$jq("#BrandId option:selected").val();if(!a)a=$jq("#BrandId").val();var h=c+"?brandid="+a+"&server="+b._options.server+"&ImageTypeCode=BRD",i=c+"?brandid="+a+"&server="+b._options.server+"&ImageTypeCode=BAA";$jq(".fileupload-loading").show();$jq.ajax({url:h,dataType:"json",context:$jq("#fileupload")[0],success:function(a){$jq(this).fileupload("option","done").call(this,null,{result:a});$jq("#fileupload .fileupload-loading").hide()}});$jq.ajax({url:i,dataType:"json",context:$jq("#fileupload2")[0],success:function(a){$jq(this).fileupload("option","done").call(this,null,{result:a});$jq("#fileupload2 .fileupload-loading").hide()}});$jq(".nhs_Tabs li a").click(function(a){a.preventDefault();$jq(".tab").hide();$jq("#"+$jq(this).attr("for")).show();$jq(".nhs_Tabs li").removeClass("nhs_Selected");$jq(this).parent().addClass("nhs_Selected")});$jq("#nhs_submit3, #nhs_submit2, #nhs_submit").click(function(){$jq.loading()});$jq("select#BrandId").change(function(){var a=$jq("#BrandId option:selected").val();$jq(".nhs_brandid").val(a)});$jq(".nhs_update").live("click",function(){var a=$jq(this).parent().parent(),d=a.find(".id").html(),c=a.find(".description").find(".nhs_Caption").val(),e=a.find(".nhs_Title").val(),b=a.find(".nhs_AccreditationUrl").val(),f={imageid:d,description:c,title:e,accreditationSealUrl:b};$jq.ajax({data:f,type:"POST",url:"/updatetextimagebuilder",success:function(a){if(a.result)$jq.showSuccess("Image text updated successfully.");else $jq.showError("Problem trying to update image text.")}})});HideShowTestimonials();$jq("#nhs_submit2").click(function(){$jq("#nhs_submit2").hide();$jq("#nhs_submitFake2").show();var a=$jq(".nhs_testimonialsBody tr");$jq.each(a,function(){var b=$jq(this),c=b.find(".nhs_testimonialid"),a={TestimonialId:c.val(),Citation:b.find(".nhs_citation").val(),BrandId:b.find(".nhs_brandid").val(),Description:b.find(".nhs_description").val()};(a.TestimonialId>0||a.Citation.length>0||a.Description>0)&&$jq.ajax({type:"POST",url:"/submitbuildershowcasetestimonial",data:a,success:function(a){if(a.result){c.val(a.testimonialid);$jq.showSuccess("The brand showcase testimonials were saved successfully.");HideShowTestimonials()}else $jq.showError("Problem trying to save brand showcase testimonials")}})});$jq("#nhs_submit2").show();$jq("#nhs_submitFake2").hide()});$jq(".nhs_delete button.btn-danger").live("click",function(){$jq.loading();var a=$jq(this).parent().parent(),b=a.find(".nhs_testimonialid").val();$jq.ajax({type:"POST",url:"/deletebuildershowcasetestimonial",data:{testimonialId:b},success:function(b){if(b.result){$jq.showSuccess("The brand showcase testimonials wwere deleted successfully.");a.find(".nhs_testimonialid").val("");a.find(".nhs_citation").val("");a.find(".nhs_description").val("");HideShowTestimonials()}else $jq.showError("Problem trying to delete brand showcase testimonials.")}})})}};function HideShowTestimonials(){var a=$jq(".nhs_testimonialsBody tr");$jq.each(a,function(){var a=$jq(this).find(".nhs_testimonialid").val();if(a==null||a==0)$jq(this).find(".nhs_delete>button").hide();else $jq(this).find(".nhs_delete>button").show()})}$jq.extend({showError:function(b,a){$jq.ManageMessages(b,"nhs_error",a)},showSuccess:function(b,a){$jq.ManageMessages(b,"nhs_success",a)},showWarning:function(b,a){$jq.ManageMessages(b,"nhs_warning",a)},showInfo:function(b,a){$jq.ManageMessages(b,"nhs_info",a)},ManageMessages:function(c,b,a){if(!a)a=5e3;$jq("#nhs_Message").removeClass("nhs_error nhs_success  nhs_warning nhs_info").addClass(b).html(c).stop(true,true).show().animate({opacity:1,right:"10"},500);setTimeout('$jq("#nhs_Message").fadeOut();',a);$jq.unloading()},loading:function(){$jq("#nhs_Loading").fadeIn();return false},unloading:function(){setTimeout(' $jq("#nhs_Loading").fadeOut("fast");',500)}})